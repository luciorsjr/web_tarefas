{"version":3,"sources":["services/api.js","views/Login.js"],"names":["baseUrl","request","method","endpoint","params","token","toLowerCase","fullUrl","body","queryString","URLSearchParams","toString","JSON","stringify","headers","Authorization","fetch","req","json","services","getToken","localStorage","getItem","validateToken","login","email","password","logout","removeItem","getTrabalhadores","updateTrabalhadores","id","data","getLotacoes","getFin_Pagar_Receber","getFin_Plano","getWall","updateWall","addWall","removeWall","getDocuments","addDocument","formData","FormData","append","title","file","updateDocument","removeDocument","getReservations","getUnits","getAreas","addReservation","updateReservation","removeReservation","getWarnings","updateWarning","getFoundAndLost","updateFoundAndLost","getUsers","removeUser","addUser","updateUser","removeArea","addArea","i","updateArea","updateAreaAllowed","searchUser","query","q","addUnit","updateUnit","removeUnit","Login","api","useApi","history","useHistory","useState","setEmail","setPassword","error","setError","loading","setLoading","handleLoginButton","result","setItem","push","className","md","color","name","type","placeholder","value","onChange","e","target","disabled","xs","onClick"],"mappings":"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","file":"static/js/7.ef3ff730.chunk.js","sourcesContent":["// suporte@b7web.com.br\n// 1234\n\n//const baseUrl = \"https://api.b7web.com.br/devcond/api/admin\";\nconst baseUrl = 'http://192.168.15.16:9090/erp_web/datasnap/rest/TWSEmpregados';\n//const baseUrl = 'http://principios.no-ip.org:9090/erp_web/datasnap/rest/TWSEmpregados';\n\nconst request = async (method, endpoint, params, token = null) => {\n  method = method.toLowerCase();\n  let fullUrl = `${baseUrl}${endpoint}`;\n  let body = null;\n  switch (method) {\n    case \"get\":\n      let queryString = new URLSearchParams(params).toString();\n      fullUrl += `?${queryString}`;\n      break;\n    case \"post\":\n    case \"put\":\n    case \"delete\":\n      body = JSON.stringify(params);\n      break;\n  }\n  let headers = { \"Content-Type\": \"application/json\" };\n  if (token) {\n    headers.Authorization = `Bearer ${token}`;\n  }\n  let req = await fetch(fullUrl, { method, headers, body });\n  let json = await req.json();\n  return json;\n};\n\nexport default function services() {\n  return {\n    getToken: () => {\n      return localStorage.getItem(\"token\");\n    },\n\n    validateToken: async () => {\n      let token = localStorage.getItem(\"token\");\n      //let json = await request(\"post\", \"/auth/validate\", {}, token);\n        let json = await request('post', '/users_validate', {}, token);\n      return json;\n    },\n\n    login: async (email, password) => {\n      //let json = await request(\"post\", \"/auth/login\", { email, password });\n      let json = await request('post', '/users_login', { email, password });\n      return json;\n    },\n\n    logout: async (email, password) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"post\", \"/auth/logout\", {}, token);\n      localStorage.removeItem(\"token\");\n      return json;\n    },\n\n    getTrabalhadores: async () => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"get\", \"/trabalhadores/3\", {}, token);\n      return json;\n    },\n    updateTrabalhadores: async (id, data) => {\n      let token = localStorage.getItem(\"token\");\n//    let json = await request(\"put\", `/wall/${id}`, data, token);\n      let json = await request(\"put\", `/trabalhadores/3/${id}`, data, token);\n      return json;\n    },\n\n    getLotacoes: async () => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"get\", \"/lotacoes/3\", {}, token);\n      return json;\n    },\n\n    \n    getFin_Pagar_Receber: async () => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"get\", \"/fin_pagar_receber/4\", {}, token);\n      return json;\n    },\n\n\n    getFin_Plano: async () => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"get\", \"/fin_plano/4\", {}, token);\n      return json;\n    },\n\n    getWall: async () => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"get\", \"/walls\", {}, token);\n      return json;\n    },\n\n    updateWall: async (id, data) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"put\", `/wall/${id}`, data, token);\n      return json;\n    },\n\n    addWall: async (data) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"post\", \"/walls\", data, token);\n      return json;\n    },\n\n    removeWall: async (id) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"delete\", `/wall/${id}`, {}, token);\n      return json;\n    },\n\n    getDocuments: async (id) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"get\", \"/docs\", {}, token);\n      return json;\n    },\n\n    addDocument: async (data) => {\n      let token = localStorage.getItem(\"token\");\n      let formData = new FormData();\n      formData.append(\"title\", data.title);\n      if (data.file) {\n        formData.append(\"file\", data.file);\n      }\n      let req = await fetch(`${baseUrl}/docs`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n        body: formData,\n      });\n      let json = await req.json();\n      return json;\n    },\n\n    updateDocument: async (id, data) => {\n      let token = localStorage.getItem(\"token\");\n      let formData = new FormData();\n      formData.append(\"title\", data.title);\n      if (data.file) {\n        formData.append(\"file\", data.file);\n      }\n      let req = await fetch(`${baseUrl}/doc/${id}`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n        body: formData,\n      });\n      let json = await req.json();\n      return json;\n    },\n\n    removeDocument: async (id) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"delete\", `/doc/${id}`, {}, token);\n      return json;\n    },\n\n    getReservations: async () => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"get\", \"/reservations\", {}, token);\n      return json;\n    },\n\n    getUnits: async () => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"get\", \"/units\", {}, token);\n      return json;\n    },\n\n    getAreas: async () => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"get\", \"/areas\", {}, token);\n      return json;\n    },\n\n    addReservation: async (data) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"post\", \"/reservations\", data, token);\n      return json;\n    },\n\n    updateReservation: async (id, data) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"put\", `/reservation/${id}`, data, token);\n      return json;\n    },\n\n    removeReservation: async (id) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"delete\", `/reservation/${id}`, {}, token);\n      return json;\n    },\n\n    getWarnings: async () => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"get\", \"/warnings\", {}, token);\n      return json;\n    },\n\n    updateWarning: async (id) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"put\", `/warning/${id}`, {}, token);\n      return json;\n    },\n\n    getFoundAndLost: async () => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"get\", \"/foundandlost\", {}, token);\n      return json;\n    },\n\n    updateFoundAndLost: async (id) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"put\", `/foundandlost/${id}`, {}, token);\n      return json;\n    },\n\n    getUsers: async () => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"get\", \"/users\", {}, token);\n      return json;\n    },\n\n    removeUser: async (id) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"delete\", `/user/${id}`, {}, token);\n      return json;\n    },\n\n    addUser: async (data) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"post\", \"/users\", data, token);\n      return json;\n    },\n\n    updateUser: async (id, data) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"put\", `/user/${id}`, data, token);\n      return json;\n    },\n\n    removeArea: async (id) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"delete\", `/area/${id}`, {}, token);\n      return json;\n    },\n\n    addArea: async (data) => {\n      let token = localStorage.getItem(\"token\");\n      let formData = new FormData();\n      for(let i in data) {\n        formData.append(i,data[i])\n      }\n      let req = await fetch(`${baseUrl}/areas`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n        body: formData,\n      });\n      let json = await req.json();\n      return json;\n    },\n\n    updateArea: async (id,data) => {\n      let token = localStorage.getItem(\"token\");\n      let formData = new FormData();\n      for(let i in data) {\n        formData.append(i,data[i])\n      }\n      let req = await fetch(`${baseUrl}/area/${id}`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n        body: formData,\n      });\n      let json = await req.json();\n      return json;\n    },\n\n    updateAreaAllowed: async (id) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"put\", `/area/${id}/allowed`, {}, token);\n      return json;\n    },\n\n    searchUser: async (query) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"get\", `/users/search`, {q: query}, token);\n      return json;\n    },\n\n    addUnit: async (data) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"post\", `/units`, data, token);\n      return json;\n    },\n\n    updateUnit: async (id,data) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"put\",`/unit/${id}`, data, token);\n      return json;\n    },\n\n    removeUnit: async (id) => {\n      let token = localStorage.getItem(\"token\");\n      let json = await request(\"delete\",`/unit/${id}`, {}, token);\n      return json;\n    },\n  };\n}\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardGroup,\n  CCol,\n  CContainer,\n  CForm,\n  CInput,\n  CInputGroup,\n  CInputGroupPrepend,\n  CInputGroupText,\n  CRow,\n  CAlert\n} from \"@coreui/react\";\nimport CIcon from \"@coreui/icons-react\";\nimport useApi from \"../services/api\";\n\nconst Login = () => {\n  const api = useApi();\n  const history = useHistory();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleLoginButton = async () => {\n    if (email && password) {\n      setLoading(true)\n      const result = await api.login(email, password);\n      setLoading(false)\n      if (result.error === \"\") {\n        localStorage.setItem(\"token\", result.token);\n        history.push(\"/\");\n      } else {\n        setError(result.error)\n      }\n    } else {\n      setError(\"Preencha os campos!\");\n    }\n  };\n\n  return (\n    <div className=\"c-app c-default-layout flex-row align-items-center\">\n      <CContainer>\n        <CRow className=\"justify-content-center\">\n          <CCol md=\"5\">\n            <CCardGroup>\n              <CCard className=\"p-4\">\n                <CCardBody>\n                  <CForm>\n                    <h1>Login</h1>\n                    <p className=\"text-muted\">Digite seus dados de acesso</p>\n\n                    {error !== '' &&\n                      <CAlert color=\"danger\">{error}</CAlert>\n                    }\n\n                    <CInputGroup className=\"mb-3\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-user\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <CInput\n                        type=\"text\"\n                        placeholder=\"E-mail\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                        disabled={loading}\n                      />\n                    </CInputGroup>\n\n                    <CInputGroup className=\"mb-4\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-lock-locked\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <CInput\n                        type=\"password\"\n                        placeholder=\"Senha\"\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                        disabled={loading}\n                      />\n                    </CInputGroup>\n\n                    <CRow>\n                      <CCol xs=\"6\">\n                        <CButton\n                          color=\"primary\"\n                          className=\"px-4\"\n                          onClick={handleLoginButton}\n                          disabled={loading}\n                        >\n                          {loading ? \"Carregando\" : \"Entrar\"}\n                        </CButton>\n                      </CCol>\n                    </CRow>\n                  </CForm>\n                </CCardBody>\n              </CCard>\n            </CCardGroup>\n          </CCol>\n        </CRow>\n      </CContainer>\n    </div>\n  );\n};\n\nexport default Login;\n"],"sourceRoot":""}