(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[21],{764:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return j}));var a=r(706),n=r(705),c=r(707),s=r(1),i=r(702),o=r(703),l=r(704),u=r(32);function j(){var e=Object(l.a)(),t=Object(s.useState)(!0),r=Object(c.a)(t,2),j=r[0],d=r[1],b=Object(s.useState)([]),O=Object(c.a)(b,2),h=O[0],x=O[1],m=Object(s.useState)(!1),f=Object(c.a)(m,2),p=f[0],v=f[1],y=Object(s.useState)(!1),g=Object(c.a)(y,2),k=g[0],C=g[1],S=Object(s.useState)(""),w=Object(c.a)(S,2),F=w[0],D=w[1],U=Object(s.useState)(""),E=Object(c.a)(U,2),N=E[0],P=E[1],_=Object(s.useState)(""),I=Object(c.a)(_,2),J=I[0],q=I[1],z=Object(s.useState)(""),A=Object(c.a)(z,2),B=A[0],G=A[1],H=Object(s.useState)(""),K=Object(c.a)(H,2),T=K[0],V=K[1],L=Object(s.useState)(""),M=Object(c.a)(L,2),Q=M[0],R=M[1];Object(s.useEffect)((function(){W()}),[]);var W=function(){var t=Object(n.a)(Object(a.a)().mark((function t(){var r;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.next=3,e.getUsers();case 3:r=t.sent,d(!1),""===r.error?x(r.list):x(r.error);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),X=function(){v(!1)},Y=function(){var t=Object(n.a)(Object(a.a)().mark((function t(r){var n;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Tem certeza que deseja excluir?")){t.next=5;break}return t.next=3,e.removeUser(r);case 3:""===(n=t.sent).error?W():alert(n.error);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Z=function(){var t=Object(n.a)(Object(a.a)().mark((function t(){var r,n;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(N&&J&&B)){t.next=17;break}if(C(!0),n={name:N,email:J,cpf:B},T&&(T===Q?n.password=T:(alert("Senhas n\xe3o batem"),C(!1))),""!==F){t.next=10;break}return t.next=7,e.addUser(n);case 7:r=t.sent,t.next=13;break;case 10:return t.next=12,e.updateUser(F,n);case 12:r=t.sent;case 13:C(!1),""===r.error?(v(!1),W()):alert(r.error),t.next=18;break;case 17:alert("Preencha os campos!");case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(i.K,{children:Object(u.jsxs)(i.m,{children:[Object(u.jsx)("h2",{children:"Usu\xe1rios"}),Object(u.jsxs)(i.h,{children:[Object(u.jsx)(i.l,{children:Object(u.jsxs)(i.e,{color:"primary",onClick:function(){D(""),P(""),q(""),G(""),V(""),R(""),v(!0)},children:[Object(u.jsx)(o.a,{name:"cil-check"}),"Novo Usu\xe1rio"]})}),Object(u.jsx)(i.i,{children:Object(u.jsx)(i.p,{items:h,fields:[{label:"Nome",key:"name"},{label:"E-mail",key:"email"},{label:"CPF",key:"cpf"},{label:"A\xe7\xf5es",key:"actions",_style:{width:"1px"},sorter:!1,filter:!1}],loading:j,noItemsViewSlot:" ",columnFilter:!0,sorter:!0,hover:!0,striped:!0,bordered:!0,pagination:!0,itemsPerPage:10,scopedSlots:{reservation_date:function(e){return Object(u.jsx)("td",{children:e.reservation_date_formatted})},actions:function(e,t){return Object(u.jsx)("td",{children:Object(u.jsxs)(i.f,{children:[Object(u.jsx)(i.e,{color:"info",onClick:function(){return function(e){var t=h.findIndex((function(t){return t.id===e}));D(h[t].id),P(h[t].name),q(h[t].email),G(h[t].cpf),V(""),R(""),v(!0)}(e.id)},children:"Editar"}),Object(u.jsx)(i.e,{color:"danger",onClick:function(){return Y(e.id)},children:"Excluir"})]})})}}})})]})]})}),Object(u.jsxs)(i.F,{show:p,onClose:X,children:[Object(u.jsxs)(i.I,{closeButton:!0,children:[""===F?"Novo":"Editar"," Usu\xe1rio"]}),Object(u.jsxs)(i.G,{children:[Object(u.jsxs)(i.x,{children:[Object(u.jsx)(i.D,{htmlFor:"modal-name",children:"Nome do usu\xe1rio"}),Object(u.jsx)(i.y,{type:"text",id:"modal-name",value:N,onChange:function(e){return P(e.target.value)},disabled:k})]}),Object(u.jsxs)(i.x,{children:[Object(u.jsx)(i.D,{htmlFor:"modal-name",children:"E-mail do usu\xe1rio"}),Object(u.jsx)(i.y,{type:"email",id:"modal-email",value:J,onChange:function(e){return q(e.target.value)},disabled:k})]}),Object(u.jsxs)(i.x,{children:[Object(u.jsx)(i.D,{htmlFor:"modal-cpf",children:"CPF do usu\xe1rio"}),Object(u.jsx)(i.y,{type:"text",id:"modal-cpf",value:B,onChange:function(e){return G(e.target.value)},disabled:k})]}),Object(u.jsxs)(i.x,{children:[Object(u.jsx)(i.D,{htmlFor:"modal-pass1",children:"Nova Senha"}),Object(u.jsx)(i.y,{type:"text",id:"modal-pass1",placeholder:"Digite uma nova senha para o usu\xe1rio",value:T,onChange:function(e){return V(e.target.value)},disabled:k})]}),Object(u.jsxs)(i.x,{children:[Object(u.jsx)(i.D,{htmlFor:"modal-pass2",children:"Confirme a nova senha"}),Object(u.jsx)(i.y,{type:"text",id:"modal-pass2",placeholder:"Digite uma nova senha para o usu\xe1rio",value:Q,onChange:function(e){return R(e.target.value)},disabled:k})]})]}),Object(u.jsxs)(i.H,{children:[Object(u.jsx)(i.e,{color:"primary",onClick:Z,disabled:k,children:k?"Carregando...":"Salvar"}),Object(u.jsx)(i.e,{color:"secondary",onClick:X,disabled:k,children:k?"Carregando...":"Cancelar"})]})]})]})}}}]);
//# sourceMappingURL=21.9cb35c47.chunk.js.map