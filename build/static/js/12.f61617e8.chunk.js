(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[12],{760:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return j}));var n=r(706),c=r(705),a=r(707),i=r(1),o=r(702),s=r(703),l=r(704),u=r(32);function j(){var e=Object(l.a)(),t=Object(i.useState)(!0),r=Object(a.a)(t,2),j=r[0],d=r[1],b=Object(i.useState)([]),f=Object(a.a)(b,2),O=f[0],x=f[1],h=Object(i.useState)(!1),p=Object(a.a)(h,2),m=p[0],v=p[1],k=Object(i.useState)(!1),w=Object(a.a)(k,2),g=w[0],y=w[1],C=Object(i.useState)(""),D=Object(a.a)(C,2),S=D[0],E=D[1],q=Object(i.useState)(""),F=Object(a.a)(q,2),I=F[0],P=F[1],T=Object(i.useState)(""),A=Object(a.a)(T,2),J=A[0],N=A[1];Object(i.useEffect)((function(){z()}),[]);var z=function(){var t=Object(c.a)(Object(n.a)().mark((function t(){var r;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.next=3,e.getDocuments();case 3:r=t.sent,d(!1),""===r.error?x(r.list):x(r.error);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(){v(!1)},G=function(){var t=Object(c.a)(Object(n.a)().mark((function t(r){var c;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Tem certeza que deseja excluir?")){t.next=5;break}return t.next=3,e.removeDocument(r);case 3:""===(c=t.sent).error?z():alert(c.error);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),H=function(){var t=Object(c.a)(Object(n.a)().mark((function t(){var r,c;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!S){t.next=24;break}if(y(!0),c={title:S},""!==J){t.next=16;break}if(!I){t.next=11;break}return c.file=I,t.next=8,e.addDocument(c);case 8:r=t.sent,t.next=14;break;case 11:return alert("Selecione o arquivo!"),y(!1),t.abrupt("return");case 14:t.next=20;break;case 16:return I&&(c.file=I),t.next=19,e.updateDocument(J,c);case 19:r=t.sent;case 20:y(!1),""===r.error?(v(!1),z()):alert(r.error),t.next=25;break;case 24:alert("Preencha os campos!");case 25:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(o.K,{children:Object(u.jsxs)(o.m,{children:[Object(u.jsx)("h2",{children:"Documentos"}),Object(u.jsxs)(o.h,{children:[Object(u.jsx)(o.l,{children:Object(u.jsxs)(o.e,{color:"primary",onClick:function(){N(""),E(""),P(""),v(!0)},children:[Object(u.jsx)(s.a,{name:"cil-check"}),"Novo Documento"]})}),Object(u.jsx)(o.i,{children:Object(u.jsx)(o.p,{items:O,fields:[{label:"T\xedtulo",key:"title"},{label:"A\xe7\xf5es",key:"actions",_style:{width:"1px"}}],loading:j,noItemsViewSlot:" ",hover:!0,striped:!0,bordered:!0,pagination:!0,itemsPerPage:5,scopedSlots:{actions:function(e,t){return Object(u.jsx)("td",{children:Object(u.jsxs)(o.f,{children:[Object(u.jsx)(o.e,{color:"success",onClick:function(){return function(e){var t=O.findIndex((function(t){return t.id===e}));window.open(O[t].fileurl)}(e.id)},children:Object(u.jsx)(s.a,{name:"cil-cloud-download"})}),Object(u.jsx)(o.e,{color:"info",onClick:function(){return function(e){var t=O.findIndex((function(t){return t.id===e}));N(O[t].id),E(O[t].title),v(!0)}(e.id)},children:"Editar"}),Object(u.jsx)(o.e,{color:"danger",onClick:function(){return G(e.id)},children:"Excluir"})]})})}}})})]})]})}),Object(u.jsxs)(o.F,{show:m,onClose:B,children:[Object(u.jsxs)(o.I,{closeButton:!0,children:[""===J?"Novo":"Editar"," Documento"]}),Object(u.jsxs)(o.G,{children:[Object(u.jsxs)(o.x,{children:[Object(u.jsx)(o.D,{htmlFor:"modal-title",children:"Titulo do Documento"}),Object(u.jsx)(o.y,{type:"text",id:"modal-title",placeholder:"Digite um t\xedtulo para o documento",value:S,onChange:function(e){return E(e.target.value)},disabled:g})]}),Object(u.jsxs)(o.x,{children:[Object(u.jsx)(o.D,{htmlFor:"modal-file",children:"Arquivo (pdf)"}),Object(u.jsx)(o.y,{type:"file",id:"modal-file",name:"file",placeholder:"Escolha um arquivo",onChange:function(e){return P(e.target.files[0])}})]})]}),Object(u.jsxs)(o.H,{children:[Object(u.jsx)(o.e,{color:"primary",onClick:H,disabled:g,children:g?"Carregando...":"Salvar"}),Object(u.jsx)(o.e,{color:"secondary",onClick:B,disabled:g,children:g?"Carregando...":"Cancelar"})]})]})]})}}}]);
//# sourceMappingURL=12.f61617e8.chunk.js.map