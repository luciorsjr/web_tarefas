(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[17],{758:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return j}));var c=a(706),r=a(705),n=a(707),o=a(1),i=a(702),l=a(703),d=a(704),s=a(32);function j(){var e=Object(d.a)(),t=Object(o.useState)(!0),a=Object(n.a)(t,2),j=a[0],b=a[1],u=Object(o.useState)([]),x=Object(n.a)(u,2),h=x[0],O=x[1],p=Object(o.useState)(!1),m=Object(n.a)(p,2),f=m[0],y=m[1],v=Object(o.useState)(!1),g=Object(n.a)(v,2),k=g[0],w=g[1],C=Object(o.useState)(""),D=Object(n.a)(C,2),S=D[0],_=D[1],L=Object(o.useState)(""),F=Object(n.a)(L,2),I=F[0],q=F[1],E=Object(o.useState)(""),A=Object(n.a)(E,2),P=A[0],W=A[1],J=Object(o.useState)(""),Q=Object(n.a)(J,2),R=Q[0],B=Q[1],G=Object(o.useState)(""),H=Object(n.a)(G,2),K=H[0],M=H[1],N=Object(o.useState)(""),T=Object(n.a)(N,2),V=T[0],z=T[1],U=Object(o.useState)(""),X=Object(n.a)(U,2),Y=X[0],Z=X[1],$=Object(o.useState)(""),ee=Object(n.a)($,2),te=ee[0],ae=ee[1];Object(o.useEffect)((function(){ce()}),[]);var ce=function(){var t=Object(r.a)(Object(c.a)().mark((function t(){var a;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),t.next=3,e.getLotacoes();case 3:a=t.sent,b(!1),""===a.error?O(a.list):O(a.error);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),re=function(){y(!1)},ne=function(){var t=Object(r.a)(Object(c.a)().mark((function t(a){var r;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Confirma a exclus\xe3o?")){t.next=5;break}return t.next=3,e.removeWall(a);case 3:""===(r=t.sent).error?ce():alert(r.error);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),oe=function(){var t=Object(r.a)(Object(c.a)().mark((function t(){var a,r;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!S||!R){t.next=16;break}if(w(!0),r={title:S,id:I,lotacao:P,descricao:R,endereco:K,cidade:V,qtde_maxima_trabalhadores:Y},""!==te){t.next=9;break}return t.next=6,e.addWall(r);case 6:a=t.sent,t.next=12;break;case 9:return t.next=11,e.updateWall(te,r);case 11:a=t.sent;case 12:w(!1),""===a.error?(y(!1),ce()):alert(a.error),t.next=17;break;case 16:alert("Preencha os campos!");case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(i.K,{children:Object(s.jsxs)(i.m,{children:[Object(s.jsx)("h2",{children:"Cadastro de Lota\xe7\xf5es"}),Object(s.jsxs)(i.h,{children:[Object(s.jsx)(i.l,{children:Object(s.jsxs)(i.e,{color:"primary",onClick:function(){ae(""),_(""),q(""),W(""),B(""),M(""),z(""),Z(""),y(!0)},children:[Object(s.jsx)(l.a,{name:"cil-check"}),"Inclus\xe3o"]})}),Object(s.jsx)(i.i,{children:Object(s.jsx)(i.p,{items:h,fields:[{label:"ID",key:"id",_style:{width:"80px"}},{label:"Lotacao",key:"lotacao",_style:{width:"80px"}},{label:"Descricao",key:"descricao",_style:{width:"300px"}},{label:"Endere\xe7o",key:"endere\xe7o",_style:{width:"80px"}},{label:"Cidade",key:"cidade",_style:{width:"80px"}},{label:"Qtd_max",key:"qtde_maxima_trabalhadores",_style:{width:"80px"}},{label:"A\xe7\xf5es",key:"actions",_style:{width:"1px"}}],loading:j,noItemsViewSlot:" ",hover:!0,striped:!0,bordered:!0,border:!0,clickableRows:!0,captionSlot:5,pagination:!0,itemsPerPage:10,scopedSlots:{actions:function(e){return Object(s.jsx)("td",{children:Object(s.jsxs)(i.f,{children:[Object(s.jsx)(i.e,{color:"info",onClick:function(){return function(e){var t=h.findIndex((function(t){return t.id===e}));ae(h[t].id),_(h[t].title),q(h[t].id),W(h[t].lotacao),B(h[t].descricao),M(h[t].enderecoField),z(h[t].cidade),Z(h[t].qtde_maxima_trabalhadores),y(!0)}(e.id)},children:"Alterar"}),Object(s.jsx)(i.e,{color:"danger",onClick:function(){return ne(e.id)},children:"Excluir"})]})})}}})})]})]})}),Object(s.jsxs)(i.F,{show:f,onClose:re,children:[Object(s.jsxs)(i.I,{closeButton:!0,children:[""===te?"Novo":"Alterar"," Lota\xe7\xe3o"]}),Object(s.jsxs)(i.G,{children:[Object(s.jsxs)(i.x,{children:[Object(s.jsx)(i.D,{htmlFor:"modal-title",children:"Titulo da Lota\xe7\xe3o"}),Object(s.jsx)(i.y,{type:"text",id:"modal-title",placeholder:"Digite a Descri\xe7\xe3o da Lota\xe7\xe3o",value:S,onChange:function(e){return _(e.target.value)},disabled:k})]}),Object(s.jsxs)(i.x,{children:[Object(s.jsx)(i.D,{htmlFor:"modal-id",children:"ID"}),Object(s.jsx)(i.y,{type:"text",id:"modal-id",placeholder:"Digite o ID da Lota\xe7\xe3o",value:I,onChange:function(e){return q(e.target.value)},disabled:k})]}),Object(s.jsxs)(i.x,{children:[Object(s.jsx)(i.D,{htmlFor:"modal-lotacao",children:"Lota\xe7\xe3o"}),Object(s.jsx)(i.y,{type:"text",id:"modal-lotacao",placeholder:"Digite a Lota\xe7\xe3o",value:P,onChange:function(e){return W(e.target.value)},disabled:k})]}),Object(s.jsxs)(i.x,{children:[Object(s.jsx)(i.D,{htmlFor:"modal-descricao",children:"Descri\xe7\xe3o da Lota\xe7\xe3o"}),Object(s.jsx)(i.R,{id:"modal-lotacao",placeholder:"Digite a Descri\xe7\xe3o da Lota\xe7\xe3o",value:R,onChange:function(e){return B(e.target.value)},disabled:k})]}),Object(s.jsxs)(i.x,{children:[Object(s.jsx)(i.D,{htmlFor:"modal-endereco",children:"Endere\xe7o"}),Object(s.jsx)(i.y,{type:"text",id:"modal-endereco",value:K,onChange:function(e){return M(e.target.value)},disabled:k,width:"1px"})]}),Object(s.jsxs)(i.x,{children:[Object(s.jsx)(i.D,{htmlFor:"modal-cidade",children:"Cidade"}),Object(s.jsx)(i.y,{type:"text",id:"modal-cidade",value:V,onChange:function(e){return z(e.target.value)},disabled:k,width:"1px"})]}),Object(s.jsxs)(i.x,{children:[Object(s.jsx)(i.D,{htmlFor:"modal-qtd_max",children:"Qtd. Max"}),Object(s.jsx)(i.y,{type:"text",id:"modal-qtd_max",value:Y,onChange:function(e){return Z(e.target.value)},disabled:k,width:"1px"})]})]}),Object(s.jsxs)(i.H,{children:[Object(s.jsx)(i.e,{color:"primary",onClick:oe,disabled:k,children:k?"Carregando...":"Salvar"}),Object(s.jsx)(i.e,{color:"secondary",onClick:re,disabled:k,children:k?"Carregando...":"Cancelar"})]})]})]})}}}]);
//# sourceMappingURL=17.1a8acbcf.chunk.js.map