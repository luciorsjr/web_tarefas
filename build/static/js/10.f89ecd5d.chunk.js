(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[10],{770:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return m}));var n=r(716);var a=r(715);function c(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=r(706),o=r(705),s=r(707),d=r(1),l=r(702),j=r(703),u=r(704),b=r(32);function m(){var e=Object(u.a)(),t=Object(d.useState)(!0),r=Object(s.a)(t,2),n=r[0],a=r[1],m=Object(d.useState)([]),h=Object(s.a)(m,2),O=h[0],x=h[1],f=Object(d.useState)(!1),y=Object(s.a)(f,2),v=y[0],p=y[1],k=Object(d.useState)(!1),g=Object(s.a)(k,2),C=g[0],w=g[1],S=Object(d.useState)(""),F=Object(s.a)(S,2),D=F[0],A=F[1],_=Object(d.useState)(1),z=Object(s.a)(_,2),E=z[0],Q=z[1],T=Object(d.useState)(""),H=Object(s.a)(T,2),I=H[0],P=H[1],J=Object(d.useState)(""),N=Object(s.a)(J,2),q=N[0],B=N[1],G=Object(d.useState)([]),K=Object(s.a)(G,2),L=K[0],V=K[1],M=Object(d.useState)(""),R=Object(s.a)(M,2),U=R[0],W=R[1],X=Object(d.useState)(""),Y=Object(s.a)(X,2),Z=Y[0],$=Y[1];Object(d.useEffect)((function(){ee()}),[]);var ee=function(){var t=Object(o.a)(Object(i.a)().mark((function t(){var r;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(!0),t.next=3,e.getAreas();case 3:r=t.sent,a(!1),""===r.error?x(r.list):x(r.error);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),te=function(){p(!1)},re=function(){var t=Object(o.a)(Object(i.a)().mark((function t(r){var n;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Tem certeza que deseja excluir?")){t.next=5;break}return t.next=3,e.removeArea(r);case 3:""===(n=t.sent).error?ee():alert(n.error);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ne=function(){var t=Object(o.a)(Object(i.a)().mark((function t(){var r,n;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(I&&U&&Z)){t.next=17;break}if(w(!0),n={allowed:E,title:I,days:L.join(","),start_time:U,end_time:Z},q&&(n.cover=q),""!==D){t.next=10;break}return t.next=7,e.addArea(n);case 7:r=t.sent,t.next=13;break;case 10:return t.next=12,e.updateArea(D,n);case 12:r=t.sent;case 13:w(!1),""===r.error?(p(!1),ee()):alert(r.error),t.next=18;break;case 17:alert("Preencha os campos!");case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ae=function(){var t=Object(o.a)(Object(i.a)().mark((function t(r){var n;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(!0),t.next=3,e.updateAreaAllowed(r.id);case 3:n=t.sent,a(!1),""===n.error?ee():alert(n.error);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ce=function(e,t){var r=c(L);!1===t.target.checked?r=r.filter((function(t){return t!==e})):r.push(e),V(r)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(l.K,{children:Object(b.jsxs)(l.m,{children:[Object(b.jsx)("h2",{children:"\xc1reas Comuns"}),Object(b.jsxs)(l.h,{children:[Object(b.jsx)(l.l,{children:Object(b.jsxs)(l.e,{color:"primary",onClick:function(){A(""),Q(1),P(""),B(""),V([]),W(""),$(""),p(!0)},children:[Object(b.jsx)(j.a,{name:"cil-check"}),"Nova \xc1rea Comum"]})}),Object(b.jsx)(l.i,{children:Object(b.jsx)(l.p,{items:O,fields:[{label:"Ativo",key:"allowed",filter:!1,sorter:!1},{label:"Capa",key:"cover",filter:!1,sorter:!1},{label:"T\xedtulo",key:"title"},{label:"Dias de funcionamento",key:"days"},{label:"Hor\xe1rio de in\xedcio",key:"start_time",filter:!1},{label:"Hor\xe1rio de fim",key:"end_time",filter:!1},{label:"A\xe7\xf5es",key:"actions",_style:{width:"1px"},sorter:!1,filter:!1}],loading:n,noItemsViewSlot:" ",columnFilter:!0,sorter:!0,hover:!0,striped:!0,bordered:!0,pagination:!0,itemsPerPage:10,scopedSlots:{allowed:function(e){return Object(b.jsx)("td",{children:Object(b.jsx)(l.Q,{color:"success",checked:e.allowed,onChange:function(){return ae(e)}})})},cover:function(e){return Object(b.jsx)("td",{children:Object(b.jsx)("img",{src:e.cover,width:100,alt:"item cover"})})},days:function(e){var t=["Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado","Domingo"],r=e.days.split(","),n=[];for(var a in r)r[a]&&t[r[a]]&&n.push(t[r[a]]);return Object(b.jsx)("td",{children:n.join(", ")})},actions:function(e){return Object(b.jsx)("td",{children:Object(b.jsxs)(l.f,{children:[Object(b.jsx)(l.e,{color:"info",onClick:function(){return function(e){var t=O.findIndex((function(t){return t.id===e}));A(O[t].id),Q(O[t].allowed),P(O[t].title),B(""),V(O[t]["days".split(",")]),W(O[t].start_time),$(O[t].end_time),p(!0)}(e.id)},children:"Editar"}),Object(b.jsx)(l.e,{color:"danger",onClick:function(){return re(e.id)},children:"Excluir"})]})})}}})})]})]})}),Object(b.jsxs)(l.F,{show:v,onClose:te,children:[Object(b.jsxs)(l.I,{closeButton:!0,children:[""===D?"Nova":"Editar"," \xc1rea Comum"]}),Object(b.jsxs)(l.G,{children:[Object(b.jsxs)(l.x,{children:[Object(b.jsx)(l.D,{htmlFor:"modal_allowed",children:"Ativo"}),Object(b.jsx)("br",{}),Object(b.jsx)(l.Q,{color:"success",checked:E,onChange:function(){Q(1-E)}})]}),Object(b.jsxs)(l.x,{children:[Object(b.jsx)(l.D,{htmlFor:"modal-title",children:"T\xedtulo"}),Object(b.jsx)(l.y,{type:"text",id:"modal-title",name:"title",value:I,onChange:function(e){return P(e.target.value)}})]}),Object(b.jsxs)(l.x,{children:[Object(b.jsx)(l.D,{htmlFor:"modal-cover",children:"Capa"}),Object(b.jsx)(l.y,{type:"file",id:"modal-cover",name:"cover",placeholder:"Escolha uma imagem",onChange:function(e){return B(e.target.files[0])}})]}),Object(b.jsxs)(l.x,{children:[Object(b.jsx)(l.D,{htmlFor:"modal-days",children:"Dias de funcionamento"}),Object(b.jsxs)("div",{style:{marginLeft:20},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(l.z,{id:"modal-days-0",name:"modal-days",value:0,checked:L.includes("0"),onChange:function(e){return ce("0",e)}}),Object(b.jsx)(l.D,{htmlFor:"modal-days-0",children:"Segunda-Feira"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(l.z,{id:"modal-days-1",name:"modal-days",value:1,checked:L.includes("1"),onChange:function(e){return ce("1",e)}}),Object(b.jsx)(l.D,{htmlFor:"modal-days-1",children:"Ter\xe7a-Feira"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(l.z,{id:"modal-days-2",name:"modal-days",value:2,checked:L.includes("2"),onChange:function(e){return ce("2",e)}}),Object(b.jsx)(l.D,{htmlFor:"modal-days-2",children:"Quarta-Feira"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(l.z,{id:"modal-days-3",name:"modal-days",value:3,e:!0,checked:L.includes("3"),onChange:function(e){return ce("3",e)}}),Object(b.jsx)(l.D,{htmlFor:"modal-days-3",children:"Quinta-Feira"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(l.z,{id:"modal-days-4",name:"modal-days",value:4,checked:L.includes("4"),onChange:function(e){return ce("4",e)}}),Object(b.jsx)(l.D,{htmlFor:"modal-days-4",children:"Sexta-Feira"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(l.z,{id:"modal-days-5",name:"modal-days",value:5,checked:L.includes("5"),onChange:function(e){return ce("5",e)}}),Object(b.jsx)(l.D,{htmlFor:"modal-days-5",children:"S\xe1bado"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(l.z,{id:"modal-days-6",name:"modal-days",value:6,checked:L.includes("6"),onChange:function(e){return ce("6",e)}}),Object(b.jsx)(l.D,{htmlFor:"modal-days-6",children:"Domingo"})]})]})]}),Object(b.jsxs)(l.x,{children:[Object(b.jsx)(l.D,{htmlFor:"modal-start-time",children:"Hor\xe1rio de in\xedcio"}),Object(b.jsx)(l.y,{type:"time",id:"modal-start-time",name:"start_time",value:U,onChange:function(e){return W(e.target.value)}})]}),Object(b.jsxs)(l.x,{children:[Object(b.jsx)(l.D,{htmlFor:"modal-end-time",children:"Hor\xe1rio de fim"}),Object(b.jsx)(l.y,{type:"time",id:"modal-end-time",name:"end",value:Z,onChange:function(e){return $(e.target.value)}})]})]}),Object(b.jsxs)(l.H,{children:[Object(b.jsx)(l.e,{color:"primary",onClick:ne,disabled:C,children:C?"Carregando...":"Salvar"}),Object(b.jsx)(l.e,{color:"secondary",onClick:te,disabled:C,children:C?"Carregando...":"Cancelar"})]})]})]})}}}]);
//# sourceMappingURL=10.f89ecd5d.chunk.js.map